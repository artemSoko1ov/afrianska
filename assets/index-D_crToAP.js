(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();class l{selectors={root:"[data-js-header]"};stateClasses={isFixed:"is-fixed"};constructor(){this.rootElement=document.querySelector(this.selectors.root),this.bindEvents()}handleScroll=()=>{window.scrollY>50?this.rootElement.classList.add(this.stateClasses.isFixed):this.rootElement.classList.remove(this.stateClasses.isFixed)};bindEvents(){window.addEventListener("scroll",this.handleScroll)}}class a{selectors={root:"[data-js-modal]",overlayModal:"[data-js-modal-overlay]",buttonOpen:"[data-js-modal-button-open]",buttonClose:"[data-js-modal-button-close]"};stateClasses={isActive:"is-active",isLock:"is-lock"};constructor(){this.overlayModalElement=document.querySelector(this.selectors.overlayModal),this.rootElement=document.querySelector(this.selectors.root),this.openButtonElement=document.querySelector(this.selectors.buttonOpen),this.closeButtonElement=document.querySelector(this.selectors.buttonClose),this.bindEvents()}open=()=>{this.overlayModalElement.classList.add(this.stateClasses.isActive),document.documentElement.classList.add(this.stateClasses.isLock),document.addEventListener("keydown",this.handleKeyDown)};close=()=>{this.overlayModalElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock),document.removeEventListener("keydown",this.handleKeyDown)};handleOverlayClick=e=>{e.target===this.overlayModalElement&&this.close()};handleKeyDown=e=>{e.key==="Escape"&&this.close()};bindEvents(){this.openButtonElement.addEventListener("click",this.open),this.closeButtonElement.addEventListener("click",this.close),this.overlayModalElement.addEventListener("click",this.handleOverlayClick)}}class c{selectors={root:"[data-js-burger-menu]",overlayBurgerMenu:"[data-js-burger-menu-overlay]",buttonOpen:"[data-js-burger-menu-button-open]",buttonClose:"[data-js-burger-menu-button-close]"};stateClasses={isActive:"is-active",isLock:"is-lock"};constructor(){this.overlayBurgerMenuElement=document.querySelector(this.selectors.overlayBurgerMenu),this.rootElement=document.querySelector(this.selectors.root),this.openButtonElement=document.querySelector(this.selectors.buttonOpen),this.closeButtonElement=document.querySelector(this.selectors.buttonClose),this.bindEvents()}open=()=>{this.overlayBurgerMenuElement.classList.add(this.stateClasses.isActive),document.documentElement.classList.add(this.stateClasses.isLock),document.addEventListener("keydown",this.handleKeyDown)};close=()=>{this.overlayBurgerMenuElement.classList.remove(this.stateClasses.isActive),document.documentElement.classList.remove(this.stateClasses.isLock),document.removeEventListener("keydown",this.handleKeyDown)};handleOverlayClick=e=>{e.target===this.overlayBurgerMenuElement&&this.close()};handleKeyDown=e=>{e.key==="Escape"&&this.close()};bindEvents(){this.openButtonElement.addEventListener("click",this.open),this.closeButtonElement.addEventListener("click",this.close),this.overlayBurgerMenuElement.addEventListener("click",this.handleOverlayClick)}}class d{selectors={form:"[data-js-form]",fieldErrors:"[data-js-form-field-errors]"};constructor(){this.formElement=document.querySelector(this.selectors.form),this.fieldElements=this.formElement.querySelectorAll("input, textarea"),this.bindEvents()}validateField=e=>{const o=e.parentElement.querySelector(this.selectors.fieldErrors);let r="";return e.value.trim()?e.name==="email"&&!this.isValidEmail(e.value)&&(r="Введите корректный email"):r="Поле обязательно для заполнения",o.textContent=r,r===""};isValidEmail=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);validateForm=()=>{let e=!0;return this.fieldElements.forEach(o=>{!this.validateField(o)&&e&&(o.focus(),e=!1)}),e};handleSubmit=async e=>{if(e.preventDefault(),!!this.validateForm())try{const r=await fetch("https://d-element.ru/",{method:"POST",body:new FormData(this.formElement)});this.formElement.reset(),this.showMessage("Your message successfully sent")}catch{this.showMessage("Your message successfully sent")}};showMessage=e=>{const o=this.formElement.innerHTML;this.formElement.innerHTML=`<p>${e}</p>`,setTimeout(()=>{this.formElement.innerHTML=o,this.fieldElements=this.formElement.querySelectorAll("input, textarea"),this.bindEvents()},3e3)};bindEvents(){this.formElement.addEventListener("submit",this.handleSubmit),this.fieldElements.forEach(e=>{e.addEventListener("blur",()=>this.validateField(e))})}}new l;new a;new c;new d;
